# Контекст выполнения в JavaScript

Контекст выполнения (Execution Context) в JavaScript — это среда или контекст, в котором выполняется код JavaScript. Он содержит информацию о переменных, функциях и объектах, доступных для исполняемого кода, а также о цепочке областей видимости (Scope Chain) и значении ключевого слова `this`.

Контекст выполнения проходит через две фазы: фазу создания и фазу выполнения.

## Фаза создания

На этом этапе движок JavaScript подготавливает среду для выполнения кода. Во время этой фазы движок JavaScript создает:

- **Объект переменных (Variable Object, VO):** Хранит информацию о всех переменных, функциях и объявлениях параметров функций.
- **Цепочку областей видимости (Scope Chain):** Определяет область видимости каждой переменной в текущем контексте выполнения.
- **Ключевое слово `this`:** Определяется на основе контекста, в котором вызывается функция.

### Выделение памяти

Во время фазы создания также происходит выделение памяти для переменных и функций. Переменные и функции "поднимаются" (hoisting), что означает, что они доступны в коде до их объявления.

<span style="color:red;">ReferenceError возникает из-за неправильного обращения к переменным, а не из-за операций с данными или их типов. Это ключевое отличие ошибок, связанных с областью видимости и доступностью переменных, от ошибок, связанных с типами данных или операциями над ними (например, TypeError).
</span>

### Основные аспекты:

- **Присваивание значений переменным:** Значения назначаются переменным, которые были объявлены в фазе создания.
- **Выполнение функций и блоков кода:** Функции вызываются, и их контексты выполнения помещаются на стек вызовов.
- **Управление стеком вызовов:** Управляет порядком выполнения функций, когда одна функция вызывается из другой.

## Компоненты контекста выполнения в JavaScript

В JavaScript контекст выполнения состоит из двух основных компонентов:

1. **Компонент памяти (Memory Component):** Также известен как Куча (Heap). Это место, где хранятся все переменные и функции как объекты в памяти.
   
2. **Компонент кода (Code Component):** Также известен как Стек (Stack). Это место, где выполняется код построчно.




